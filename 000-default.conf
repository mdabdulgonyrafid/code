<VirtualHost *:80>
    # The ServerName directive sets the request scheme, hostname, and port
    # the server uses to identify itself.
    #ServerName www.example.com

    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html

    # Log files
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # Request timeout configurations
    <IfModule mod_reqtimeout.c>
        RequestReadTimeout header=20-40,MinRate=500 body=20-40,MinRate=500
    </IfModule>

    # Quality of service configurations
    <IfModule mod_qos.c>
        QS_LocRequestLimit 1000
        QS_SrvRequestLimit 1000
    </IfModule>

    # DoS protection configurations
    <IfModule mod_evasive.c>
        DOSPageCount 1000
        DOSSiteCount 1500
        DOSBlockingPeriod 10
    </IfModule>

    # Additional headers for security and compatibility
    <IfModule mod_headers.c>
        Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
        Header always set X-Content-Type-Options "nosniff"
        Header always set X-Frame-Options "SAMEORIGIN"
        Header always set X-XSS-Protection "1; mode=block"
    </IfModule>

    # Uncomment to include CGI configuration if needed
    #Include conf-available/serve-cgi-bin.conf
</VirtualHost>
